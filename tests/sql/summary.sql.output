 current_database 
------------------
 signalk
(1 row)

You are now connected to database "signalk" as user "username".
Expanded display is on.
-[ RECORD 1 ]--+------------------------------
server_version | 18.2 (Debian 18.2-1.pgdg13+1)

-[ RECORD 1 ]--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
postgis_full_version | POSTGIS="3.6.2 08d9b9f" [EXTENSION] PGSQL="180" GEOS="3.13.1-CAPI-1.19.2" PROJ="9.6.0 NETWORK_ENABLED=OFF URL_ENDPOINT=https://cdn.proj.org USER_WRITABLE_DIRECTORY=/var/lib/postgresql/.local/share/proj DATABASE_PATH=/usr/share/proj/proj.db" (compiled against PROJ 9.6.0) LIBXML="2.9.14" LIBJSON="0.18" LIBPROTOBUF="1.5.1" WAGYU="0.5.0 (Internal)"

List of installed extensions
-[ RECORD 1 ]--------------------------------------------------------------------------------------
Name        | citext
Version     | 1.8
Schema      | public
Description | data type for case-insensitive character strings
-[ RECORD 2 ]--------------------------------------------------------------------------------------
Name        | jsonb_plpython3u
Version     | 1.0
Schema      | public
Description | transform between jsonb and plpython3u
-[ RECORD 3 ]--------------------------------------------------------------------------------------
Name        | mobilitydb
Version     | 1.3.0
Schema      | public
Description | MobilityDB geospatial trajectory data management & analysis platform
-[ RECORD 4 ]--------------------------------------------------------------------------------------
Name        | moddatetime
Version     | 1.0
Schema      | public
Description | functions for tracking last modification time
-[ RECORD 5 ]--------------------------------------------------------------------------------------
Name        | pg_stat_statements
Version     | 1.12
Schema      | public
Description | track planning and execution statistics of all SQL statements executed
-[ RECORD 6 ]--------------------------------------------------------------------------------------
Name        | pgcrypto
Version     | 1.4
Schema      | public
Description | cryptographic functions
-[ RECORD 7 ]--------------------------------------------------------------------------------------
Name        | plpgsql
Version     | 1.0
Schema      | pg_catalog
Description | PL/pgSQL procedural language
-[ RECORD 8 ]--------------------------------------------------------------------------------------
Name        | plpython3u
Version     | 1.0
Schema      | pg_catalog
Description | PL/Python3U untrusted procedural language
-[ RECORD 9 ]--------------------------------------------------------------------------------------
Name        | postgis
Version     | 3.6.2
Schema      | public
Description | PostGIS geometry and geography spatial types and functions
-[ RECORD 10 ]-------------------------------------------------------------------------------------
Name        | timescaledb
Version     | 2.25.0
Schema      | public
Description | Enables scalable inserts and complex queries for time-series data (Community Edition)
-[ RECORD 11 ]-------------------------------------------------------------------------------------
Name        | timescaledb_toolkit
Version     | 1.22.0
Schema      | public
Description | Library of analytical hyperfunctions, time-series pipelining, and other SQL utilities
-[ RECORD 12 ]-------------------------------------------------------------------------------------
Name        | uuid-ossp
Version     | 1.1
Schema      | public
Description | generate universally unique identifiers (UUIDs)

List of installed extensions available for upgrade
(0 rows)

List Language
-[ RECORD 1 ]+-----------
lanname      | c
lanispl      | f
lanpltrusted | f
lanacl       | 
-[ RECORD 2 ]+-----------
lanname      | internal
lanispl      | f
lanpltrusted | f
lanacl       | 
-[ RECORD 3 ]+-----------
lanname      | plpgsql
lanispl      | t
lanpltrusted | t
lanacl       | 
-[ RECORD 4 ]+-----------
lanname      | plpython3u
lanispl      | t
lanpltrusted | t
lanacl       | 
-[ RECORD 5 ]+-----------
lanname      | sql
lanispl      | f
lanpltrusted | t
lanacl       | 

List of databases
-[ RECORD 1 ]+-----------
datname      | postgres
datconnlimit | -1
datcollate   | en_US.utf8
datctype     | en_US.utf8
datallowconn | t
-[ RECORD 2 ]+-----------
datname      | signalk
datconnlimit | 100
datcollate   | en_US.utf8
datctype     | en_US.utf8
datallowconn | t
-[ RECORD 3 ]+-----------
datname      | template0
datconnlimit | -1
datcollate   | en_US.utf8
datctype     | en_US.utf8
datallowconn | f
-[ RECORD 4 ]+-----------
datname      | template1
datconnlimit | -1
datcollate   | en_US.utf8
datctype     | en_US.utf8
datallowconn | t

List of relations
List of relations from schema api
-[ RECORD 1 ]--------
schema_api | logbook
-[ RECORD 2 ]--------
schema_api | metadata
-[ RECORD 3 ]--------
schema_api | metrics
-[ RECORD 4 ]--------
schema_api | moorages
-[ RECORD 5 ]--------
schema_api | stays
-[ RECORD 6 ]--------
schema_api | stays_at

List of relations from schema public
-[ RECORD 1 ]-+------------------------------
schema_public | aistypes
-[ RECORD 2 ]-+------------------------------
schema_public | app_settings
-[ RECORD 3 ]-+------------------------------
schema_public | badges
-[ RECORD 4 ]-+------------------------------
schema_public | email_templates
-[ RECORD 5 ]-+------------------------------
schema_public | geocoders
-[ RECORD 6 ]-+------------------------------
schema_public | iso3166
-[ RECORD 7 ]-+------------------------------
schema_public | mid
-[ RECORD 8 ]-+------------------------------
schema_public | mobilitydb_opcache
-[ RECORD 9 ]-+------------------------------
schema_public | ne_10m_geography_marine_polys
-[ RECORD 10 ]+------------------------------
schema_public | process_queue
-[ RECORD 11 ]+------------------------------
schema_public | spatial_ref_sys

List of relations from schema auth
-[ RECORD 1 ]---------
schema_auth | accounts
-[ RECORD 2 ]---------
schema_auth | otp
-[ RECORD 3 ]---------
schema_auth | vessels

List of relations from schema jwt
(0 rows)

List Row Security Policies
-[ RECORD 1 ]------------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | logbook
policyname | admin_all
permissive | PERMISSIVE
roles      | {username}
cmd        | ALL
qual       | true
with_check | true
-[ RECORD 2 ]------------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | logbook
policyname | api_anonymous_role
permissive | PERMISSIVE
roles      | {api_anonymous}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | false
-[ RECORD 3 ]------------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | logbook
policyname | api_scheduler_role
permissive | PERMISSIVE
roles      | {scheduler}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 4 ]------------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | logbook
policyname | api_user_role
permissive | PERMISSIVE
roles      | {user_role}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, true))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 5 ]------------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | logbook
policyname | api_vessel_role
permissive | PERMISSIVE
roles      | {vessel_role}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | true
-[ RECORD 6 ]------------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | logbook
policyname | grafana_role
permissive | PERMISSIVE
roles      | {grafana}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | false
-[ RECORD 7 ]------------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metadata
policyname | admin_all
permissive | PERMISSIVE
roles      | {username}
cmd        | ALL
qual       | true
with_check | true
-[ RECORD 8 ]------------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metadata
policyname | api_anonymous_role
permissive | PERMISSIVE
roles      | {api_anonymous}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | false
-[ RECORD 9 ]------------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metadata
policyname | api_scheduler_role
permissive | PERMISSIVE
roles      | {scheduler}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 10 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metadata
policyname | api_user_role
permissive | PERMISSIVE
roles      | {user_role}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 11 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metadata
policyname | api_vessel_role
permissive | PERMISSIVE
roles      | {vessel_role}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 12 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metadata
policyname | grafana_role
permissive | PERMISSIVE
roles      | {grafana}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | false
-[ RECORD 13 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metrics
policyname | admin_all
permissive | PERMISSIVE
roles      | {username}
cmd        | ALL
qual       | true
with_check | true
-[ RECORD 14 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metrics
policyname | api_anonymous_role
permissive | PERMISSIVE
roles      | {api_anonymous}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | false
-[ RECORD 15 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metrics
policyname | api_scheduler_role
permissive | PERMISSIVE
roles      | {scheduler}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 16 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metrics
policyname | api_user_role
permissive | PERMISSIVE
roles      | {user_role}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 17 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metrics
policyname | api_vessel_role
permissive | PERMISSIVE
roles      | {vessel_role}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 18 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | metrics
policyname | grafana_role
permissive | PERMISSIVE
roles      | {grafana}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | false
-[ RECORD 19 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | moorages
policyname | admin_all
permissive | PERMISSIVE
roles      | {username}
cmd        | ALL
qual       | true
with_check | true
-[ RECORD 20 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | moorages
policyname | api_anonymous_role
permissive | PERMISSIVE
roles      | {api_anonymous}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | false
-[ RECORD 21 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | moorages
policyname | api_scheduler_role
permissive | PERMISSIVE
roles      | {scheduler}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 22 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | moorages
policyname | api_user_role
permissive | PERMISSIVE
roles      | {user_role}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, true))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 23 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | moorages
policyname | api_vessel_role
permissive | PERMISSIVE
roles      | {vessel_role}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | true
-[ RECORD 24 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | moorages
policyname | grafana_role
permissive | PERMISSIVE
roles      | {grafana}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | false
-[ RECORD 25 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | stays
policyname | admin_all
permissive | PERMISSIVE
roles      | {username}
cmd        | ALL
qual       | true
with_check | true
-[ RECORD 26 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | stays
policyname | api_anonymous_role
permissive | PERMISSIVE
roles      | {api_anonymous}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | false
-[ RECORD 27 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | stays
policyname | api_scheduler_role
permissive | PERMISSIVE
roles      | {scheduler}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 28 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | stays
policyname | api_user_role
permissive | PERMISSIVE
roles      | {user_role}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, true))
with_check | (vessel_id = current_setting('vessel.id'::text, false))
-[ RECORD 29 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | stays
policyname | api_vessel_role
permissive | PERMISSIVE
roles      | {vessel_role}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | true
-[ RECORD 30 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | api
tablename  | stays
policyname | grafana_role
permissive | PERMISSIVE
roles      | {grafana}
cmd        | ALL
qual       | (vessel_id = current_setting('vessel.id'::text, false))
with_check | false
-[ RECORD 31 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | auth
tablename  | accounts
policyname | admin_all
permissive | PERMISSIVE
roles      | {username}
cmd        | ALL
qual       | true
with_check | true
-[ RECORD 32 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | auth
tablename  | accounts
policyname | api_scheduler_role
permissive | PERMISSIVE
roles      | {scheduler}
cmd        | ALL
qual       | ((email)::text = current_setting('user.email'::text, true))
with_check | ((email)::text = current_setting('user.email'::text, true))
-[ RECORD 33 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | auth
tablename  | accounts
policyname | api_user_role
permissive | PERMISSIVE
roles      | {user_role}
cmd        | ALL
qual       | ((email)::text = current_setting('user.email'::text, true))
with_check | ((email)::text = current_setting('user.email'::text, true))
-[ RECORD 34 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | auth
tablename  | vessels
policyname | admin_all
permissive | PERMISSIVE
roles      | {username}
cmd        | ALL
qual       | true
with_check | true
-[ RECORD 35 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | auth
tablename  | vessels
policyname | api_user_role
permissive | PERMISSIVE
roles      | {user_role}
cmd        | ALL
qual       | ((vessel_id = current_setting('vessel.id'::text, true)) AND ((owner_email)::text = current_setting('user.email'::text, true)))
with_check | ((vessel_id = current_setting('vessel.id'::text, true)) AND ((owner_email)::text = current_setting('user.email'::text, true)))
-[ RECORD 36 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | auth
tablename  | vessels
policyname | grafana_role
permissive | PERMISSIVE
roles      | {grafana}
cmd        | ALL
qual       | ((owner_email)::text = current_setting('user.email'::text, true))
with_check | false
-[ RECORD 37 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | public
tablename  | process_queue
policyname | admin_all
permissive | PERMISSIVE
roles      | {username}
cmd        | ALL
qual       | true
with_check | true
-[ RECORD 38 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | public
tablename  | process_queue
policyname | api_scheduler_role
permissive | PERMISSIVE
roles      | {scheduler}
cmd        | ALL
qual       | true
with_check | false
-[ RECORD 39 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | public
tablename  | process_queue
policyname | api_user_role
permissive | PERMISSIVE
roles      | {user_role}
cmd        | ALL
qual       | ((ref_id = current_setting('user.id'::text, true)) OR (ref_id = current_setting('vessel.id'::text, true)))
with_check | ((ref_id = current_setting('user.id'::text, true)) OR (ref_id = current_setting('vessel.id'::text, true)))
-[ RECORD 40 ]-----------------------------------------------------------------------------------------------------------------------------
schemaname | public
tablename  | process_queue
policyname | api_vessel_role
permissive | PERMISSIVE
roles      | {vessel_role}
cmd        | ALL
qual       | ((ref_id = current_setting('user.id'::text, true)) OR (ref_id = current_setting('vessel.id'::text, true)))
with_check | true

Test nominatim reverse_geocode_py_fn
-[ RECORD 1 ]---------+----------------------------------------
reverse_geocode_py_fn | {"name": "Spain", "country_code": "es"}

Test geoip reverse_geoip_py_fn
Test opverpass API overpass_py_fn
-[ RECORD 1 ]---------------------------------------------------------------------------------------------------------------------------------------------------------------------
versions_fn | {"api_version" : "0.10.0", "sys_version" : "PostgreSQL 18.2", "mobilitydb" : "1.3.0", "timescaledb" : "2.25.0", "postgis" : "3.6.2", "postgrest" : "PostgREST 14.5"}

-[ RECORD 1 ]----------------
api_version | 0.10.0
sys_version | PostgreSQL 18.2
timescaledb | 2.25.0
postgis     | 3.6.2
postgrest   | PostgREST 14.5

